<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="GBK">
    <title>重量单位转换器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .input-group {
            margin: 0.8rem 0;
            display: flex;
            align-items: center;
        }
        input {
            width: 250px;
            padding: 0.5rem;
            margin-right: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .unit {
            min-width: 120px;
            font-size: 16px;
            color: #666;
        }
        h2 {
            color: #333;
            text-align: center;
            margin-bottom: 1.5rem;
        }
        .section {
            margin: 1rem 0;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .section-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>重量单位转换器</h2>
        
        <div class="section">
            <div class="section-title">公制单位（从小到大）</div>
            <div class="input-group">
                <input type="number" id="yg" step="any">
                <span class="unit">幺克/攸克 (yg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="zg" step="any">
                <span class="unit">仄克/介克 (zg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="ag" step="any">
                <span class="unit">阿克 (ag)</span>
            </div>
            <div class="input-group">
                <input type="number" id="fg" step="any">
                <span class="unit">飞克 (fg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="pg" step="any">
                <span class="unit">皮克 (pg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="ng" step="any">
                <span class="unit">纳克 (ng)</span>
            </div>
            <div class="input-group">
                <input type="number" id="ug" step="any">
                <span class="unit">微克 (μg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="mg" step="any">
                <span class="unit">毫克 (mg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="g" step="any">
                <span class="unit">克 (g)</span>
            </div>
            <div class="input-group">
                <input type="number" id="kg" step="any">
                <span class="unit">千克/公斤 (kg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="q" step="any">
                <span class="unit">公担 (q)</span>
            </div>
            <div class="input-group">
                <input type="number" id="t" step="any">
                <span class="unit">吨 (t)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Mg" step="any">
                <span class="unit">公吨/百万克 (Mg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Gg" step="any">
                <span class="unit">吉克 (Gg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Tg" step="any">
                <span class="unit">太克/兆克 (Tg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Pg" step="any">
                <span class="unit">拍克 (Pg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Eg" step="any">
                <span class="unit">艾克 (Eg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Zg" step="any">
                <span class="unit">泽克/皆克 (Zg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Yg" step="any">
                <span class="unit">尧克/佑克 (Yg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Rg" step="any">
                <span class="unit">罗克 (Rg)</span>
            </div>
            <div class="input-group">
                <input type="number" id="Qg" step="any">
                <span class="unit">奎克 (Qg)</span>
            </div>
        </div>

        <div class="section">
            <div class="section-title">英制单位</div>
            <div class="input-group">
                <input type="number" id="gr" step="any">
                <span class="unit">格令 (gr)</span>
            </div>
            <div class="input-group">
                <input type="number" id="dr" step="any">
                <span class="unit">打兰 (dr)</span>
            </div>
            <div class="input-group">
                <input type="number" id="oz" step="any">
                <span class="unit">盎司 (oz)</span>
            </div>
            <div class="input-group">
                <input type="number" id="lb" step="any">
                <span class="unit">磅 (lb)</span>
            </div>
            <div class="input-group">
                <input type="number" id="st" step="any">
                <span class="unit">英石 (st)</span>
            </div>
            <div class="input-group">
                <input type="number" id="cwt" step="any">
                <span class="unit">英担</span>
            </div>
            <div class="input-group">
                <input type="number" id="ucwt" step="any">
                <span class="unit">美担</span>
            </div>
            <div class="input-group">
                <input type="number" id="lt" step="any">
                <span class="unit">长吨 (lt)</span>
            </div>
            <div class="input-group">
                <input type="number" id="sht" step="any">
                <span class="unit">短吨 (st)</span>
            </div>
            <div class="input-group">
                <input type="number" id="ct" step="any">
                <span class="unit">克拉 (ct)</span>
            </div>
        </div>

        <div class="section">
            <div class="section-title">市制单位</div>
            <div class="input-group">
                <input type="number" id="fen" step="any">
                <span class="unit">分</span>
            </div>
            <div class="input-group">
                <input type="number" id="qian" step="any">
                <span class="unit">钱</span>
            </div>
            <div class="input-group">
                <input type="number" id="liang" step="any">
                <span class="unit">两</span>
            </div>
            <div class="input-group">
                <input type="number" id="jin" step="any">
                <span class="unit">斤</span>
            </div>
            <div class="input-group">
                <input type="number" id="dan" step="any">
                <span class="unit">担</span>
            </div>
        </div>
    </div>

    <script>
        // 所有单位换算为克的系数
        const unitToGram = {
            // 公制单位（从小到大）
            'yg': 1e-24,
            'zg': 1e-21,
            'ag': 1e-18,
            'fg': 1e-15,
            'pg': 1e-12,
            'ng': 1e-9,
            'ug': 1e-6,
            'mg': 1e-3,
            'g': 1,
            'kg': 1e3,
            'q': 1e5,
            't': 1e6,
            'Mg': 1e6,
            'Gg': 1e9,
            'Tg': 1e12,
            'Pg': 1e15,
            'Eg': 1e18,
            'Zg': 1e21,
            'Yg': 1e24,
            'Rg': 1e27,
            'Qg': 1e30,

            // 英制单位
            'gr': 0.0647989,
            'dr': 1.7718451953125,
            'oz': 28.349523125,
            'lb': 453.59237,
            'st': 6350.29318,
            'cwt': 50802.345441,
            'ucwt': 45359.237,
            'lt': 1016046.9088,
            'sht': 907184.74,
            'ct': 0.2,

            // 市制单位
            'fen': 0.37,
            'qian': 3.7,
            'liang': 37,
            'jin': 500,
            'dan': 50000
        };

        // 获取所有输入框
        const inputs = {};
        for (const unit in unitToGram) {
            inputs[unit] = document.getElementById(unit);
        }

        // 转换函数
        function convertWeight(value, fromUnit) {
            if (value === '' || isNaN(value)) {
                // 清空所有输入框
                for (const unit in inputs) {
                    if (unit !== fromUnit) {
                        inputs[unit].value = '';
                    }
                }
                return;
            }

            // 转换为克
            const grams = value * unitToGram[fromUnit];

            // 更新所有输入框
            for (const unit in inputs) {
                if (unit !== fromUnit) {
                    const convertedValue = grams / unitToGram[unit];
                    // 根据数值大小动态调整小数位数
                    const decimals = Math.abs(convertedValue) < 0.000001 || Math.abs(convertedValue) >= 1e6 ? 
                        6 : Math.abs(convertedValue) < 0.01 ? 4 : 3;
                    inputs[unit].value = convertedValue.toFixed(decimals);
                }
            }
        }

        // 为每个输入框添加事件监听器
        for (const unit in inputs) {
            inputs[unit].addEventListener('input', (e) => {
                convertWeight(parseFloat(e.target.value), unit);
            });
        }
    </script>
</body>
</html>